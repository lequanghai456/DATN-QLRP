@model QuanLiRapPhim.Areas.Admin.Models.ShowTime
@using QuanLiRapPhim.Areas.Admin.Models
@{
    ViewData["Title"] = "Đặt vé xem phim";
}
@if (TempData.Peek("Message") != null)
{
    <h2>@TempData.Peek("Message")</h2>
}
<div ng-app="App" ng-controller="Ctroller" ng-init="idShowtime=@Model.Id">
    <div class="card" ng-show="room">
        <div class="card-body">
            <div class="row">
                <div class="col-sm-7">
                    <h1 class="text-center" style="color: #000000;">Chọn ghế</h1>
                    <div class="row" style="padding: 15px 15px 15px 15px;">
                        <div class="col-sm-12" style="height: 100px ; background-color:black">
                            <h1 class="text-center" style="width: 100%;padding-top:30px; color: aliceblue ">Màn hình</h1>
                        </div>
                    </div>

                    <div>
                        <div class="row" ng-repeat="s in ListSeat">
                            <div class="col-sm-1">
                                <h5>{{s.name}}</h5>
                            </div>
                            <div class="row col-10">
                                <div class="d-inline-block" style="margin:0 auto" ng-repeat="s2 in s.arr">
                                    <div ng-click="Click(s2)"
                                         class="{{s2.status==0?'seat '+ (seat.id==s2.id?'seatchon':(dsghedachon.indexOf(s2.id)==-1?'':'seatdadat')):'seatbad'}}"
                                         id="{{s2.id}}">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-1">
                                <h5>{{s.name}}</h5>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-1">
                            </div>
                            <div class="row col-10">
                                <div class="col-sm-1 d-inline-block" style="margin:0 auto" ng-repeat="x in col">
                                    <h5>{{x}}</h5>
                                </div>
                            </div>
                            <div class="col-sm-1">
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-sm-1" style="display: flex; align-items: center; justify-content: center;">
                    <div style="border-left: 1px solid green;height: 250px;"></div>
                </div>
                <div class="col-sm-4">
                    <h1 class="text-center" style="color: #000000;">Chú thích</h1>
                    <div class="row">
                        <div class="col-sm-2">
                            <img src="~/images/seatchon.png">
                        </div>
                        <div class="col-sm-8">
                            <p class="text-left">Ghế đã chọn</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2">
                            <img src="~/images/seattrong.png">
                        </div>
                        <div class="col-sm-8">
                            <p class="text-left">Ghế đã đặt</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2">
                            <img src="~/images/seatdadat.png">
                        </div>
                        <div class="col-sm-8">
                            <p class="text-left">Ghế Trống</p>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-sm-4" style="display: flex; justify-content: center;">
                            <button class="btn btn-success" ng-click="choseService()">Đặt dịch vụ</button>
                        </div>
                        <div class="col-sm-4" style="display: flex; justify-content: center;">
                            <button type="button" class="btn btn-success" ng-click="open()">Bước kế tiếp</button>
                        </div>
                        <div class="col-sm-4" style="display: flex; justify-content: center;">
                            <button type="button" class="btn btn-dark" ng-click="">Quay lại</button>
                        </div>
                    </div>
                    <br />
                    <br />
                    <div class="row">
                        <div class="col-sm-4">
                            <img src="~/admin/img/Poster/{{room.poster}}" width="100" />
                        </div>
                        <div class="col-sm-8">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h4>Phòng: </h4>
                                </div>
                                <div class="col-sm-8">
                                    <p>{{room.name}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <h4>Phim: </h4>
                                </div>
                                <div class="col-sm-8">
                                    <p>{{room.title}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <h4 style="color: #f20;">Ghế: </h4>
                                </div>
                                <div class="col-sm-8">
                                    <p style="color: #f20;">{{seat==null?'Chưa chọn':seat.x+seat.y}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <h4>Thời gian: </h4>
                                </div>
                                <div class="col-sm-8">
                                    <p>{{room.time}}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</div>

@section Scripts {
    <script src="~/View/front-end/bookticket/controller.js"></script>
    <script src="https://my-cinema-qlrp.herokuapp.com/socket.io/socket.io.js"></script>
    @*<script src="http://localhost:3000/socket.io/socket.io.js"></script>*@
    <script src="~/View/front-end/sevice/directive.js"></script>
    <script src="~/js/jquery.blockUI.js"></script>
}